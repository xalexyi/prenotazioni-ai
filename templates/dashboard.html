{% extends "base.html" %}
{% block title %}Dashboard — Ristorante{% endblock %}

{% block head %}
  <meta name="robots" content="noindex,nofollow"/>
{% endblock %}

{% block header_left %}
<div class="brand-row">
  <img class="logo-robot restaurant-logo" src="{{ url_for('static', filename='img/logo_robot.svg') }}" alt="logo">
  <div class="brand-title">
    <span class="brand-strong">{{ (restaurant.name if restaurant else 'Ristorante') }}</span>
    <span class="brand-sub">— Dashboard</span>
  </div>
</div>
{% endblock %}

{% block content %}
<section class="card">
  <div class="card-head">
    <h3 class="card-title">Prenotazioni</h3>
    <div class="row" style="flex-wrap:wrap; gap:8px 10px">
      <input type="date" id="resv-date" class="input" value="{{ (request.args.get('date') or '') }}">
      <input type="text" id="resv-search" class="input" placeholder="Cerca nome / telefono / orario">
      <button id="filter-btn" class="btn">Filtra</button>
      <button id="filter-reset" class="btn-outline">Elimina filtri</button>
      <button id="filter-30" class="btn-outline">Storico 30gg</button>
      <button id="filter-today" class="btn-blue">Oggi</button>
    </div>
  </div>

  <div id="reservations-list" class="reservations">
    <p class="muted">Nessuna prenotazione trovata.</p>
  </div>
</section>

<section class="card">
  <h3 class="card-title">Gestione orari, giorni speciali, impostazioni</h3>
  <div class="settings-row">
    <button class="menu-dots" title="Altro">⋮</button>
  </div>

  <div class="settings-section">
    <h4>Orari settimanali</h4>
    <button class="btn-blue">Salva orari</button>
  </div>

  <div class="settings-section">
    <h4>Giorni speciali</h4>
    <div class="row">
      <input type="date" class="input">
      <label><input type="checkbox"> chiuso</label>
      <input type="text" class="input" placeholder="es: 12:00-15:00, 19:00-23:00">
      <button class="btn-blue">Aggiungi/Salva</button>
    </div>
  </div>

  <div class="settings-section">
    <h4>Impostazioni</h4>
    <form id="settings-form" class="settings-form">
      <div class="grid">
        <label>Timezone <input type="text" class="input" value="Europe/Rome"></label>
        <label>Step (min) <input type="number" class="input" value="15"></label>
        <label>Ultimo ordine (min) <input type="number" class="input" value="15"></label>
        <label>Min persone <input type="number" class="input" value="1"></label>
        <label>Max persone <input type="number" class="input" value="12"></label>
        <label>Capacità/slot <input type="number" class="input" value="6"></label>
      </div>
      <button class="btn-blue" type="submit">Salva impostazioni</button>
    </form>
  </div>

  <div class="settings-section">
    <h4>Nuova prenotazione</h4>
    <form id="new-resv-form" class="settings-form">
      <div class="grid">
        <label>Data <input type="date" class="input"></label>
        <label>Ora <input type="time" class="input"></label>
        <label>Nome e cognome <input type="text" class="input"></label>
        <label>Telefono <input type="tel" class="input"></label>
        <label>Persone <input type="number" class="input" value="2"></label>
        <label>Note <input type="text" class="input"></label>
      </div>
      <button class="btn-blue" type="submit">Crea</button>
    </form>
  </div>
</section>
{% endblock %}
