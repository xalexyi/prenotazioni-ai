{% extends "base.html" %}
{% block title %}{{ restaurant.name }} — Dashboard ristorante{% endblock %}

{% block content %}

<section class="cards">
  <article class="card card--status">
    <div class="card__title">Disponibile</div>
    <div class="card__meta">Chiamate attive: <strong id="activeCalls">0/3</strong></div>
  </article>

  <article class="card">
    <div class="card__title">Prenotazioni oggi</div>
    <div class="card__value" id="bookingsToday">0</div>
  </article>

  <article class="card">
    <div class="card__title">Incasso stimato</div>
    <div class="card__value">€ <span id="revenue">0</span></div>
  </article>
</section>

<section class="panel">
  <header class="panel__header">
    <h2>Prenotazioni</h2>
    <div class="panel__tools">
      <div class="date-input">
        <input id="dateFilter" type="date" class="input" />
      </div>
      <button id="btnFilter" class="btn btn-secondary">Filtra</button>
      <button id="btnClear" class="btn btn-secondary">Elimina filtri</button>
      <button id="btnLast30" class="btn btn-secondary">Storico 30gg</button>
      <button id="btnToday" class="btn btn-primary">Oggi</button>
      <button id="btnRefresh" class="btn btn-secondary">Aggiorna</button>
      <button id="btnCreateReservation" class="btn btn-primary">Crea prenotazione</button>
    </div>
  </header>

  <div class="panel__body">
    <div class="search-row">
      <input id="searchBox" class="input" type="text" placeholder="Cerca nome / telefono / orario" />
    </div>
    <div id="reservationsTable"><!-- render da JS --></div>
  </div>
</section>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}
