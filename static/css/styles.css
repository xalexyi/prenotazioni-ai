:root{
  --bg:#0f141b;
  --panel:#131a22;
  --soft:#0b1117;
  --text:#e6edf3;
  --muted:#9aa7b2;
  --primary:#3b82f6;
  --primary-weak:#1f2937;
  --green:#22c55e;
  --red:#ef4444;
  --yellow:#f59e0b;
  --border:#243241;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}
html[data-theme="light"]{
  --bg:#f6f7f9; --panel:#ffffff; --soft:#eef1f5;
  --text:#0b1117; --muted:#586473;
  --primary:#2563eb; --primary-weak:#dce7ff;
  --green:#16a34a; --red:#dc2626; --yellow:#d97706;
  --border:#dbe4ef;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* Topbar */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px; border-bottom:1px solid var(--border); background:var(--panel); position:sticky; top:0; z-index:20;
}
.brand{font-weight:600}
.brand .dot{display:inline-block;width:8px;height:8px;border-radius:50%;background:#ff4747;margin-right:8px;vertical-align:middle}
.muted{color:var(--muted)}
.top-actions{display:flex; gap:10px; align-items:center}
.btn{
  padding:8px 12px; border-radius:10px; border:1px solid var(--border);
  background:var(--soft); color:var(--text); cursor:pointer
}
.btn:hover{filter:brightness(1.08)}
.btn.primary{background:var(--primary); border-color:transparent}
.btn.danger{background:var(--red); border-color:transparent}
.btn.outline{background:transparent}
.icon-btn{background:transparent;border:1px solid var(--border);padding:6px 8px;border-radius:8px;color:var(--text);cursor:pointer}

/* Switch theme */
.switch{position:relative; display:inline-flex; align-items:center; gap:6px; padding:2px 8px; border:1px solid var(--border); border-radius:999px; background:var(--soft)}
.switch input{appearance:none; width:0; height:0; position:absolute; left:-9999px}
.switch .slider{position:relative; width:36px; height:20px; background:var(--panel); border-radius:999px; margin:0 6px}
.switch .slider::after{content:""; position:absolute; top:2px; left:2px; width:16px; height:16px; border-radius:50%; background:var(--text); transition:transform .2s}
.switch input:checked + .slider::after{transform:translateX(16px)}
.switch .moon,.switch .sun{font-size:12px}

/* Layout */
.page{display:grid; grid-template-columns:240px 1fr; min-height:calc(100vh - 60px)}
.sidebar{border-right:1px solid var(--border); background:var(--panel)}
.nav{display:flex; flex-direction:column; padding:10px}
.nav-link{
  text-align:left; border:none; background:transparent; color:var(--text); padding:10px 12px; border-radius:10px; cursor:pointer
}
.nav-link:hover{background:var(--soft)}
.nav-link.active{background:var(--primary-weak); color:var(--text); border:1px solid var(--border)}

.content{padding:18px}
.section{display:none}
.section.is-visible{display:block}

/* Cards & stats */
.card{
  background:var(--panel); border:1px solid var(--border); border-radius:18px; padding:16px; box-shadow:var(--shadow);
}
.grid-2{display:grid; grid-template-columns:1fr 1fr; gap:14px}
.grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
.vstack{display:flex; flex-direction:column}
.gap-12{gap:12px}
.stat-title{color:var(--muted); font-size:12px}
.stat-value{font-size:28px; font-weight:700}
.badge{padding:4px 8px; border-radius:999px; font-size:12px; border:1px solid var(--border); background:var(--soft)}
.badge.green{background:rgba(34,197,94,.12); color:#a7f3d0; border-color:rgba(34,197,94,.25)}
.badge.yellow{background:rgba(245,158,11,.12); color:#fde68a; border-color:rgba(245,158,11,.25)}
.badge.red{background:rgba(239,68,68,.12); color:#fecaca; border-color:rgba(239,68,68,.25)}

/* Inputs */
.input, input[type="text"], input[type="number"], input[type="date"], input[type="time"], input[type="url"], select, textarea{
  width:100%; background:var(--soft); color:var(--text); border:1px solid var(--border); border-radius:12px; padding:10px 12px;
}
.field label{display:block; margin-bottom:6px; color:var(--muted); font-size:12px}
.checkbox{display:flex; gap:8px; align-items:center; margin:12px 0}

/* Toolbar & table */
.toolbar{display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin:14px 0}
.table-head, .table-row{
  display:grid; grid-template-columns: 220px 1fr 160px 70px 160px 1fr 280px; gap:12px; align-items:center;
}
.table-head{padding:10px 12px; color:var(--muted)}
.table-body{display:flex; flex-direction:column; gap:10px}
.table-row{
  padding:12px; background:var(--panel); border:1px solid var(--border); border-radius:14px
}
.row-meta{color:var(--muted); font-size:12px}
.actions-col{display:flex; gap:8px; justify-content:flex-end}
.empty{text-align:center; color:var(--muted); padding:30px}

/* Modal */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.6); display:grid; place-items:center; padding:18px;
}
.modal{width: min(640px, 96vw); background:var(--panel); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow)}
.modal-header{display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--border)}
.modal-body{padding:14px}
.modal-actions{display:flex; justify-content:flex-end; gap:8px; padding:12px 14px; border-top:1px solid var(--border)}

/* Toasts */
#toasts{position:fixed; right:14px; bottom:14px; display:flex; flex-direction:column; gap:8px; z-index:60}
.toast{background:var(--panel); border:1px solid var(--border); color:var(--text); padding:10px 12px; border-radius:12px; box-shadow:var(--shadow)}
.toast.ok{border-left:6px solid var(--green)}
.toast.err{border-left:6px solid var(--red)}

/* Auth page */
.auth-grid{display:grid; grid-template-columns:1.2fr .8fr; gap:18px; padding:24px; max-width:1200px; margin:0 auto}
.auth-card .field + .field{margin-top:8px}
.hero{background: radial-gradient(1200px 240px at 0% -20%, rgba(34,197,94,.15), transparent 60%), var(--panel)}
.hint{margin-top:12px; border:1px dashed var(--border); border-radius:12px; padding:12px; background:var(--soft)}
.hint-grid{display:grid; grid-template-columns:1fr 1fr; gap:10px}
.hint-title{font-weight:600; margin-bottom:8px}
.hint-sub{color:var(--muted); margin-bottom:4px}
.wave{filter: drop-shadow(0 4px 6px rgba(0,0,0,.3))}
.flash-stack{display:flex; flex-direction:column; gap:8px}
.flash{padding:8px 10px; border-radius:10px; border:1px solid var(--border); background:var(--soft)}
.flash-error{border-left:6px solid var(--red)}
.demo{font-size:12px}
